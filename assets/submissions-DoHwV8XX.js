import{v as s,f as t,B as n,q as i,w as a,d as r,e as o}from"./firebase-Bz9ybdfi.js";import{f as e,a as u}from"./index-SvUTDYpM.js";import"./react-c0U51vzo.js";import"./icons-C41eJsKq.js";async function d(s){if(!u.currentUser)throw new Error("Must be signed in");const i={...s,submittedAt:Date.now()},a=`${i.assignmentId}_${i.studentId}`;return await n(t(e,"submissions",a),i),a}async function c(s){const t=i(r(e,"submissions"),a("assignmentId","==",s)),n=await o(t),u=[];return n.forEach(s=>u.push({id:s.id,...s.data()})),u}async function m(n,i){const a=`${n}_${i}`,r=await s(t(e,"submissions",a));return r.exists()?{id:r.id,...r.data()}:null}export{m as getSubmissionForStudent,c as listSubmissions,d as saveSubmission};
