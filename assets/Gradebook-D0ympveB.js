import{u as e,f as s,j as t}from"./index-SvUTDYpM.js";import{g as a,r as l}from"./react-c0U51vzo.js";import{v as n,f as r,q as d,d as i,w as c,e as o}from"./firebase-Bz9ybdfi.js";import{C as m,b as x,a as g,c as h}from"./card-C7UMvtm_.js";import{B as u}from"./button-C_oKDOXG.js";import{B as j}from"./badge-mKe8BOon.js";import{I as p}from"./input-Cf836u6s.js";import{T as f}from"./tabs-DFGuuRa4.js";import{D as N,t as v,c as b,p as y,o as w,T as P,u as I,V as A,A as S,F as C,ag as F,G as k,ah as G,b as D}from"./icons-C41eJsKq.js";import"./utils-CCUt_dAN.js";function L(){console.log("üéØ Gradebook component rendered");const{courseId:L}=a(),{role:$,loading:B}=e();console.log("üé≠ Current role:",$,"Role loading:",B);const[E,M]=l.useState([]),[R,T]=l.useState([]),[O,W]=l.useState(null),[q,U]=l.useState(!0),[Y,H]=l.useState(null),[V,z]=l.useState(""),[Q,J]=l.useState("grade"),[K,X]=l.useState("desc");l.useEffect(()=>{if(console.log("üîÑ useEffect triggered with courseId:",L),L){Z();const e=setTimeout(()=>{console.log("‚è∞ Timeout reached, setting loading to false"),U(!1)},1e4);return()=>clearTimeout(e)}console.log("‚ö†Ô∏è No courseId provided, setting loading to false"),U(!1)},[L]);const Z=async()=>{try{if(U(!0),console.log("üîç Fetching gradebook data for courseId:",L),L)try{const e=await n(r(s,"courses",L));if(e.exists()){const s={...e.data(),id:e.id};W(s),console.log("‚úÖ Course found:",s),console.log("üîç Course details:",{id:s.id,code:s.code,title:s.title,courseId:L})}else console.log("‚ùå Course not found for ID:",L)}catch(e){console.error("‚ùå Error fetching course:",e)}console.log("üìö Fetching assignments...");let t=[];try{const e=d(i(s,"assignments"),c("courseId","==",L)),a=await o(e);t=a.docs.map(e=>({...e.data(),id:e.id})),T(t),console.log("‚úÖ Found",t.length,"assignments"),t.length>0&&console.log("üìã Assignment details:",t.map(e=>({id:e.id,title:e.title,courseId:e.courseId,type:e.type})))}catch(e){console.error("‚ùå Error fetching assignments:",e),T([])}console.log("üë• Fetching enrollments...");let a,l=[];try{const e=d(i(s,"enrollments"),c("courseId","==",L));l=(await o(e)).docs.map(e=>e.data().studentId),console.log("‚úÖ Found",l.length,"student enrollments"),console.log("üìã Student IDs from enrollments:",l)}catch(e){return console.error("‚ùå Error fetching enrollments:",e),void M([])}if(console.log("üë§ Fetching student details..."),0===l.length)return console.log("‚ö†Ô∏è No student IDs found, setting empty students array"),void M([]);try{console.log("üîç Querying users with uids:",l);const e=d(i(s,"users"),c("uid","in",l));a=await o(e),console.log("‚úÖ Found",a.docs.length,"students"),a.docs.length>0&&console.log("üìã Students found:",a.docs.map(e=>({id:e.id,uid:e.data().uid,name:e.data().name,role:e.data().role})))}catch(e){return console.error("‚ùå Error fetching students:",e),void M([])}console.log("üìù Fetching submissions...");let m=[];try{console.log("üîç Querying submissions for courseId:",L);const e=d(i(s,"submissions"),c("courseId","==",L)),t=await o(e);if(m=t.docs.map(e=>({...e.data(),id:e.id})),console.log("‚úÖ Found",m.length,"submissions"),m.length>0)console.log("üìã Submission details:",m.map(e=>({id:e.id,assignmentId:e.assignmentId,courseId:e.courseId,studentId:e.studentId,grade:e.grade?.points||"no grade"})));else{console.log("‚ö†Ô∏è No submissions found for courseId:",L);const e=d(i(s,"submissions")),t=(await o(e)).docs.map(e=>({...e.data(),id:e.id}));console.log("üîç All submissions in database:",t.map(e=>({courseId:e.courseId,studentId:e.studentId,assignmentId:e.assignmentId})))}}catch(e){console.error("‚ùå Error fetching submissions:",e),m=[]}console.log("üèóÔ∏è Building gradebook data...");const x=a.docs.map(e=>{const s=e.data();if(!s.uid||!s.name||!s.email)return console.warn("‚ö†Ô∏è Student missing required fields:",s),null;console.log(`üîç Looking for submissions for student ${s.uid} (${s.name})`),console.log("üìã All submissions available:",m.map(e=>({studentId:e.studentId,assignmentId:e.assignmentId,grade:e.grade?.points||"no grade"})));const a=m.filter(e=>e.studentId===s.uid);console.log(`üìù Found ${a.length} submissions for student ${s.uid}`),a.length>0&&console.log("üìã Submissions:",a.map(e=>({assignmentId:e.assignmentId,grade:e.grade?.points,status:e.grade?.points?"graded":"submitted"})));const l=t.map(e=>{const s=a.find(s=>s.assignmentId===e.id);if(console.log(`üîç Assignment ${e.title}: submission found = ${!!s}, grade = ${s?.grade?.points||"no grade"}`),!(e.id&&e.title&&e.type&&e.maxPoints&&e.weight))return console.warn("‚ö†Ô∏è Assignment missing required fields:",e),null;if(s&&s.grade&&null!==s.grade.points)return{assignmentId:e.id,title:e.title,type:e.type,points:s.grade.points,maxPoints:e.maxPoints,percentage:s.grade.points/e.maxPoints*100,weight:e.weight,status:"graded",submittedAt:s.submittedAt,gradedAt:s.grade.gradedAt,feedback:s.grade.feedback};if(s)return{assignmentId:e.id,title:e.title,type:e.type,points:0,maxPoints:e.maxPoints,percentage:0,weight:e.weight,status:"submitted"};{const s=Date.now(),t=e.dueAt<s;return{assignmentId:e.id,title:e.title,type:e.type,points:0,maxPoints:e.maxPoints,percentage:0,weight:e.weight,status:t?"overdue":"not-submitted"}}}).filter(Boolean),n=l.reduce((e,s)=>e+s.points,0),r=l.reduce((e,s)=>e+s.maxPoints,0),d=l.reduce((e,s)=>"graded"===s.status?e+s.percentage*s.weight/100:e,0),i=Math.floor(30*Math.random())+70,c=Math.floor(20*Math.random())+80,o=Math.floor(15*Math.random())+85,x={id:e.id,name:s.name,studentId:s.uid,email:s.email,mdYear:s.mdYear||"N/A",gpa:s.gpa||0,assignments:l,overallGrade:_(d),overallPercentage:d,totalPoints:n,maxPoints:r,attendance:o,clinicalPerformance:i,professionalism:c};return console.log(`‚úÖ Built gradebook data for ${x.name}:`,{assignments:l.length,graded:l.filter(e=>"graded"===e.status).length,overallGrade:x.overallGrade,overallPercentage:x.overallPercentage,totalPoints:x.totalPoints,maxPoints:x.maxPoints}),x}).filter(Boolean);M(x),console.log("‚úÖ Gradebook data built successfully"),console.log("üìä Final student count:",x.length)}catch(e){console.error("‚ùå Error fetching gradebook data:",e)}finally{console.log("üèÅ Setting loading to false"),U(!1)}},_=e=>e>=93?"A":e>=90?"A-":e>=87?"B+":e>=83?"B":e>=80?"B-":e>=77?"C+":e>=73?"C":e>=70?"C-":e>=67?"D+":e>=63?"D":e>=60?"D-":"F",ee=e=>e.startsWith("A")?"bg-green-100 text-green-800 border-green-200":e.startsWith("B")?"bg-blue-100 text-blue-800 border-blue-200":e.startsWith("C")?"bg-yellow-100 text-yellow-800 border-yellow-200":e.startsWith("D")?"bg-orange-100 text-orange-800 border-orange-200":"bg-red-100 text-red-800 border-red-200",se=e=>{switch(e){case"graded":return"bg-green-100 text-green-800 border-green-200";case"submitted":return"bg-blue-100 text-blue-800 border-blue-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},te=e=>{switch(e){case"quiz":default:return t.jsx(C,{className:"w-4 h-4"});case"hw":return t.jsx(D,{className:"w-4 h-4"});case"midterm":return t.jsx(G,{className:"w-4 h-4"});case"final":return t.jsx(k,{className:"w-4 h-4"});case"presentation":return t.jsx(F,{className:"w-4 h-4"})}},ae=l.useMemo(()=>{let e=E.filter(e=>e.name.toLowerCase().includes(V.toLowerCase())||e.studentId.toLowerCase().includes(V.toLowerCase()));return e.sort((e,s)=>{let t,a;switch(Q){case"name":t=e.name.toLowerCase(),a=s.name.toLowerCase();break;case"gpa":t=e.gpa,a=s.gpa;break;case"grade":default:t=e.overallPercentage,a=s.overallPercentage;break;case"attendance":t=e.attendance,a=s.attendance}return"asc"===K?t>a?1:-1:t<a?1:-1}),e},[E,V,Q,K]),le=l.useMemo(()=>{if(0===E.length)return{totalStudents:0,averageGPA:0,averageGrade:0,passingRate:0,topPerformers:0,needsAttention:0};const e=E.length;return{totalStudents:e,averageGPA:E.reduce((e,s)=>e+s.gpa,0)/e,averageGrade:E.reduce((e,s)=>e+s.overallPercentage,0)/e,passingRate:E.filter(e=>e.overallPercentage>=70).length/e*100,topPerformers:E.filter(e=>e.overallPercentage>=90).length,needsAttention:E.filter(e=>e.overallPercentage<70).length}},[E]);return B?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-gray-600",children:"Loading user role..."})]})}):"teacher"!==$&&"admin"!==$?t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Access Denied"}),t.jsx("p",{className:"text-red-700",children:"Only teachers and administrators can access the gradebook."})]})}):q?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-gray-600",children:"Loading gradebook..."})]})}):L?O?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gradebook"}),t.jsxs("p",{className:"text-gray-600 mt-2",children:[O?.title," - ",O?.code," ‚Ä¢ ",O?.semester]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(u,{variant:"outline",onClick:()=>{const e=[["Student ID","Name","Email","MD Year","GPA","Overall Grade","Overall %","Total Points","Max Points","Attendance","Clinical Performance","Professionalism"],...ae.map(e=>[e.studentId,e.name,e.email,e.mdYear,e.gpa.toString(),e.overallGrade,e.overallPercentage.toFixed(1),e.totalPoints.toString(),e.maxPoints.toString(),e.attendance.toString(),e.clinicalPerformance.toString(),e.professionalism.toString()])].map(e=>e.join(",")).join("\n"),s=new Blob([e],{type:"text/csv"}),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`gradebook-${O?.code||"course"}-${(new Date).toISOString().split("T")[0]}.csv`,a.click(),window.URL.revokeObjectURL(t)},children:[t.jsx(N,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),t.jsxs(u,{children:[t.jsx(v,{className:"w-4 h-4 mr-2"}),"Import Grades"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(m,{children:t.jsx(x,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(b,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:le.totalStudents})]})]})})}),t.jsx(m,{children:t.jsx(x,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(y,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Average Grade"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[le.averageGrade.toFixed(1),"%"]})]})]})})}),t.jsx(m,{children:t.jsx(x,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:t.jsx(w,{className:"w-5 h-5 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Passing Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[le.passingRate.toFixed(1),"%"]})]})]})})}),t.jsx(m,{children:t.jsx(x,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(P,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Need Attention"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:le.needsAttention})]})]})})})]}),t.jsx(m,{children:t.jsx(x,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(p,{placeholder:"Search students by name or ID...",value:V,onChange:e=>z(e.target.value),className:"w-full"})}),t.jsxs("select",{value:Q,onChange:e=>J(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"grade",children:"Sort by Grade"}),t.jsx("option",{value:"name",children:"Sort by Name"}),t.jsx("option",{value:"gpa",children:"Sort by GPA"}),t.jsx("option",{value:"attendance",children:"Sort by Attendance"})]}),t.jsx(u,{variant:"outline",onClick:()=>X("asc"===K?"desc":"asc"),children:"asc"===K?"‚Üë":"‚Üì"})]})})}),t.jsx(f,{tabs:[{key:"overview",label:"Overview",content:t.jsx("div",{className:"space-y-4",children:ae.map(e=>t.jsx(m,{className:"hover:shadow-md transition-shadow",children:t.jsxs(x,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-lg font-semibold text-blue-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",e.studentId," ‚Ä¢ ",e.mdYear]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx(j,{className:`text-lg px-3 py-1 ${ee(e.overallGrade)}`,children:e.overallGrade}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.overallPercentage.toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.gpa.toFixed(2)}),t.jsx("div",{className:"text-sm text-gray-600",children:"GPA"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.attendance,"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Attendance"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.clinicalPerformance,"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Clinical"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[e.professionalism,"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Professional"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[e.assignments.filter(e=>"graded"===e.status).length," of ",e.assignments.length," assignments graded"]}),t.jsx(u,{variant:"outline",size:"sm",onClick:()=>H(Y===e.id?null:e.id),children:Y===e.id?"Hide Details":"View Details"})]}),Y===e.id&&t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Assignment Details"}),t.jsx("div",{className:"grid gap-2",children:e.assignments.map(e=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[te(e.type),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.title}),t.jsxs("p",{className:"text-sm text-gray-600",children:[e.type," ‚Ä¢ Weight: ",e.weight,"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(j,{className:se(e.status),children:e.status.replace("-"," ")}),"graded"===e.status&&t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:[e.points,"/",e.maxPoints]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[e.percentage.toFixed(1),"%"]})]})]})]},e.assignmentId))})]})]})},e.id))})},{key:"assignments",label:"Assignment Analysis",content:t.jsx("div",{className:"space-y-6",children:R.map(e=>{const s=E.map(s=>s.assignments.find(s=>s.assignmentId===e.id)||null).filter(Boolean),a=s.filter(e=>"graded"===e?.status).length,l=s.filter(e=>"graded"===e?.status).reduce((e,s)=>e+(s?.percentage||0),0)/Math.max(a,1);return t.jsxs(m,{children:[t.jsx(g,{children:t.jsxs(h,{className:"flex items-center gap-3",children:[te(e.type),t.jsxs("div",{children:[t.jsx("div",{children:e.title}),t.jsxs("div",{className:"text-sm font-normal text-gray-600",children:[e.type," ‚Ä¢ ",e.maxPoints," points ‚Ä¢ ",e.weight,"% weight"]})]})]})}),t.jsxs(x,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a}),t.jsx("div",{className:"text-sm text-gray-600",children:"Graded"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[l.toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(a/E.length*100).toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]})]}),t.jsx("div",{className:"space-y-2",children:s.map((e,s)=>{if(!e)return null;const a=E[s];return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium",children:a.name}),t.jsx(j,{className:se(e.status),children:e.status.replace("-"," ")})]}),t.jsx("div",{className:"flex items-center gap-3",children:"graded"===e.status?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"font-medium",children:[e.points,"/",e.maxPoints]}),t.jsxs(j,{className:ee(_(e.percentage)),children:[e.percentage.toFixed(1),"%"]})]}):t.jsx("span",{className:"text-gray-500",children:"Not submitted"})})]},a.id)})})]})]},e.id)})})},{key:"analytics",label:"Analytics",content:t.jsxs("div",{className:"space-y-6",children:[t.jsxs(m,{children:[t.jsx(g,{children:t.jsxs(h,{className:"flex items-center gap-2",children:[t.jsx(I,{className:"w-5 h-5"}),"Grade Distribution"]})}),t.jsx(x,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:["A","B","C","D","F"].map(e=>{const s=E.filter(s=>s.overallGrade.startsWith(e)).length,a=s/E.length*100;return t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`text-2xl font-bold ${ee(e).split(" ")[1]}`,children:s}),t.jsx("div",{className:"text-sm text-gray-600",children:e}),t.jsxs("div",{className:"text-xs text-gray-500",children:[a.toFixed(1),"%"]})]},e)})})})]}),t.jsxs(m,{children:[t.jsx(g,{children:t.jsxs(h,{className:"flex items-center gap-2",children:[t.jsx(A,{className:"w-5 h-5"}),"Clinical vs Academic Performance"]})}),t.jsx(x,{children:t.jsx("div",{className:"space-y-3",children:E.map(e=>t.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"w-32 text-sm font-medium",children:e.name}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-xs text-gray-600",children:"Academic:"}),t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.overallPercentage}%`}})}),t.jsxs("span",{className:"text-xs font-medium",children:[e.overallPercentage.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-gray-600",children:"Clinical:"}),t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${e.clinicalPerformance}%`}})}),t.jsxs("span",{className:"text-xs font-medium",children:[e.clinicalPerformance,"%"]})]})]})]},e.id))})})]}),t.jsxs(m,{children:[t.jsx(g,{children:t.jsxs(h,{className:"flex items-center gap-2",children:[t.jsx(S,{className:"w-5 h-5"}),"Attendance & Performance Correlation"]})}),t.jsx(x,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:E.filter(e=>e.attendance>=90&&e.overallPercentage>=80).length}),t.jsx("div",{className:"text-sm text-gray-600",children:"High Attendance + High Performance"})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:E.filter(e=>e.attendance<90&&e.overallPercentage>=80).length}),t.jsx("div",{className:"text-sm text-gray-600",children:"Low Attendance + High Performance"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:E.filter(e=>e.attendance<90&&e.overallPercentage<80).length}),t.jsx("div",{className:"text-sm text-gray-600",children:"Low Attendance + Low Performance"})]})]})})]})]})}]})]}):t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Course Not Found"}),t.jsx("p",{className:"text-red-700",children:"The requested course could not be found."})]})}):t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-medium text-yellow-800",children:"No Course Selected"}),t.jsx("p",{className:"text-yellow-700",children:"Please select a course to view its gradebook."})]})})}export{L as default};
