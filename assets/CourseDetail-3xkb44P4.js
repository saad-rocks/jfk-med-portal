import{u as e,f as s,j as t}from"./index-SvUTDYpM.js";import{g as a,r,L as l}from"./react-c0U51vzo.js";import{v as i,f as n,q as d,d as o,w as c,e as m,u as x}from"./firebase-Bz9ybdfi.js";import{getSubmissionForStudent as h}from"./submissions-DoHwV8XX.js";import{d as g}from"./assignments-Dtn30G5f.js";import{u}from"./coursesSecure-jGot-HE8.js";import{C as j,b,a as f,c as p}from"./card-C7UMvtm_.js";import{B as N}from"./button-C_oKDOXG.js";import{B as w}from"./badge-mKe8BOon.js";import{D as v,a as y,b as C,c as F,d as A}from"./dialog-DgztDh9B.js";import{b as k,F as S,c as $,j as z,u as D,C as M,f as E,R as O,o as I,V as G,p as T}from"./icons-C41eJsKq.js";import"./utils-CCUt_dAN.js";import"./utils-DYr6ILV-.js";function V(){const{courseId:V}=a(),{role:P,user:q}=e(),[B,L]=r.useState(null),[R,W]=r.useState(null),[Q,J]=r.useState([]),[U,H]=r.useState([]),[K,X]=r.useState(null),[Y,Z]=r.useState(null),[_,ee]=r.useState("per-assignment"),[se,te]=r.useState({}),[ae,re]=r.useState(!1),[le,ie]=r.useState(!0),ne="admin"===P?"from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700":"teacher"===P?"from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700":"from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700";r.useEffect(()=>{V&&(window.scrollTo({top:0,behavior:"auto"}),de())},[V]);const de=async()=>{try{if(ie(!0),console.log("🔍 Fetching course data for courseId:",V),!V)throw new Error("Course ID is required");const t=await i(n(s,"courses",V));if(console.log("📋 Course document exists:",t.exists()),t.exists()){const e={...t.data(),id:t.id};console.log("✅ Course data fetched:",e),L(e);const a=d(o(s,"users"),c("uid","==",e.ownerId)),r=await m(a);r.empty||W(r.docs[0].data())}else console.log("❌ Course document not found for ID:",V);const a=d(o(s,"assignments"),c("courseId","==",V)),r=(await m(a)).docs.map(e=>({...e.data(),id:e.id}));J(r);const l=d(o(s,"enrollments"),c("courseId","==",V)),x=(await m(l)).docs.map(e=>({...e.data(),id:e.id}));if(H(x),"student"===P&&q&&r.length>0&&await oe(r,q.uid),V){const t=await i(n(s,"courses",V));if(t.exists()){const e=t.data();e.gradingMode&&ee(e.gradingMode),e.categoryWeights&&te(e.categoryWeights),"boolean"==typeof e.gradingFinalized&&re(e.gradingFinalized)}try{const e=await g(V);Z(e)}catch(e){console.error("Error loading weight usage:",e)}}}catch(t){console.error("Error fetching course data:",t)}finally{ie(!1)}};r.useEffect(()=>{"student"===P&&q&&Q.length>0&&oe(Q,q.uid)},[_,se,Q,P,q]);const oe=async(e,s)=>{try{let t=0,a=0,r=0;if("category"===_&&Object.keys(se||{}).length>0){const l={};for(const c of e){const e=await h(c.id,s);if(e)if(t++,e.grade.gradedAt&&null!==e.grade.points){a++;const s=e.grade.points/c.maxPoints*100,t=c.type;l[t]||(l[t]=[]),l[t].push(s)}else r++}const i=Object.values(se).reduce((e,s)=>e+Number(s||0),0),n=i>0&&i<=1.5?100:1;let d=0,o=0;for(const[e,s]of Object.entries(se)){const t=Number(s||0)*n;if(t<=0)continue;o+=t;const a=l[e]||[];d+=(a.length>0?a.reduce((e,s)=>e+s,0)/a.length:0)*t}return void X({overallGrade:o>0?d/o:0,submittedCount:t,gradedCount:a,pendingCount:r})}const l=e.reduce((e,s)=>e+Number(s.weight||0),0),i=l>0&&l<=1.5?100:1;let n=0,d=0;for(const o of e){const e=await h(o.id,s);if(e)if(t++,e.grade.gradedAt&&null!==e.grade.points){a++;const s=e.grade.points/o.maxPoints*100,t=Number(o.weight||0)*i;d+=s*t,n+=t}else r++}X({overallGrade:n>0?d/n:0,submittedCount:t,gradedCount:a,pendingCount:r})}catch(t){console.error("Error calculating student grade:",t)}},ce=async()=>{if(V){if("category"===_){const e=Object.values(se||{}).reduce((e,s)=>e+Number(s||0),0);if(Math.abs(e-100)>1e-6)return void alert("Cannot finalize: category weights must sum to 100%.")}else if(Y&&Math.abs(Y.total-100)>1e-6)return void alert("Cannot finalize: assignment weights must total 100%.");try{await x(n(s,"courses",V),{gradingFinalized:!0}),re(!0)}catch(e){console.error("Error finalizing course:",e),alert("Failed to finalize course.")}}};if(le)return t.jsx("div",{className:"flex items-center justify-center min-h-[400px] animate-fade-in",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-100 to-teal-100 rounded-3xl mb-6 shadow-soft",children:t.jsx("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"})}),t.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Loading Course Details..."}),t.jsx("p",{className:"text-slate-600",children:"Please wait while we fetch the course information"})]})});if(!B)return t.jsx("div",{className:"p-8 animate-fade-in",children:t.jsxs("div",{className:"bg-gradient-to-br from-red-50/80 to-orange-50/80 border border-red-200/60 rounded-2xl p-8 shadow-soft text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-red-100 to-orange-100 rounded-2xl mb-4",children:t.jsx(k,{size:32,className:"text-red-600"})}),t.jsx("h3",{className:"text-xl font-bold text-red-800 mb-2",children:"Course Not Found"}),t.jsx("p",{className:"text-red-700",children:"The requested course could not be found or may have been removed."})]})});const me="teacher"===P||"admin"===P,xe=U.length,he=Q.length,ge=Q.filter(e=>e.dueAt>Date.now()).length;return t.jsxs("div",{className:"space-y-8 animate-fade-in",children:[t.jsx("div",{className:"flex items-center justify-between p-6 bg-gradient-to-br from-blue-50/80 to-teal-50/80 rounded-2xl border border-blue-200/30 shadow-soft",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-100 to-teal-100 rounded-2xl shadow-soft",children:t.jsx(k,{size:32,className:"text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:B.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[t.jsx(w,{className:"bg-blue-100 text-blue-700 px-3 py-1 font-semibold",children:B.code}),t.jsx(w,{className:"bg-green-100 text-green-700 px-3 py-1 font-semibold",children:B.semester}),t.jsxs(w,{className:"bg-slate-100 text-slate-700 px-3 py-1 font-semibold",children:[B.credits," credit",1!==B.credits?"s":""]})]})]})]})}),t.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:me?t.jsxs(t.Fragment,{children:[t.jsx(N,{asChild:!0,className:`h-12 justify-center bg-gradient-to-r ${ne} text-white shadow-sm`,children:t.jsxs(l,{to:`/courses/${V}/assignments/teacher`,children:[t.jsx(S,{className:"w-5 h-5 mr-2"}),"Manage Assignments"]})}),t.jsx(N,{variant:"outline",asChild:!0,className:"h-12 justify-center border-slate-300",children:t.jsxs(l,{to:`/courses/${V}/enrollments`,children:[t.jsx($,{className:"w-5 h-5 mr-2"}),"Manage Enrollments"]})}),t.jsx(N,{variant:"outline",asChild:!0,className:"h-12 justify-center border-slate-300",children:t.jsxs(l,{to:`/courses/${V}/clinical-assessments`,children:[t.jsx(z,{className:"w-5 h-5 mr-2"}),"Clinical Assessments"]})}),t.jsxs(v,{children:[t.jsx(y,{asChild:!0,children:t.jsxs(N,{variant:"outline",className:"h-12 justify-center border-slate-300",children:[t.jsx(D,{className:"w-5 h-5 mr-2"}),"Grading Scheme"]})}),t.jsxs(C,{className:"sm:max-w-3xl bg-white/95 border border-slate-200/60 sm:rounded-2xl",children:[t.jsx(F,{children:t.jsx(A,{className:"text-xl",children:"Grading Scheme"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[t.jsx("div",{className:"text-sm text-slate-700",children:"Mode:"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"radio",checked:"per-assignment"===_,onChange:()=>ee("per-assignment")}),"Per-assignment ",Y?`(used ${Y.total.toFixed(1)}%, remaining ${Y.remaining.toFixed(1)}%)`:""]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"radio",checked:"category"===_,onChange:()=>ee("category")}),"Category-based"]})]})]}),"category"===_?t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-sm text-slate-600",children:"Set category weights to total 100%."}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["quiz","homework","hw","midterm","final","presentation"].map(e=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-xl",children:[t.jsx("span",{className:"capitalize text-slate-700",children:e}),t.jsx("input",{type:"number",min:0,max:100,step:.5,value:Number(se[e]||0),onChange:s=>te(t=>({...t,[e]:Number(s.target.value)})),className:"w-24 h-10 border-2 border-slate-200 rounded-lg px-2"})]},e))}),t.jsxs("div",{className:"text-sm text-slate-600",children:["Total: ",t.jsxs("span",{className:"font-semibold",children:[Object.values(se||{}).reduce((e,s)=>e+Number(s||0),0).toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(N,{variant:"outline",className:"h-11",onClick:async()=>{if(!V)return;const e=Object.values(se||{}).reduce((e,s)=>e+Number(s||0),0);if(Math.abs(e-100)>1e-6)alert("Category weights must sum to 100%");else try{await u(V,{code:B.code,title:B.title,credits:B.credits,semester:B.semester,instructor:B.instructor,description:B.description}),await x(n(s,"courses",V),{gradingMode:"category",categoryWeights:se}),ee("category")}catch(t){console.error("Error saving category weights:",t),alert("Failed to save grading scheme.")}},children:"Save"}),t.jsx(N,{className:"h-11",disabled:(()=>{const e=Object.values(se||{}).reduce((e,s)=>e+Number(s||0),0);return Math.abs(e-100)>1e-6})(),onClick:ce,children:"Finalize"})]}),ae&&t.jsx("div",{className:"text-green-700 text-sm",children:"Course grading has been finalized."})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-sm text-slate-700",children:["Total assignment weight used: ",t.jsxs("span",{className:"font-semibold",children:[Y?Y.total.toFixed(1):"0.0","%"]})," (remaining ",Y?Y.remaining.toFixed(1):"100.0","%)"]}),t.jsx("div",{className:"flex gap-3",children:t.jsx(N,{className:"h-11",disabled:!Y||Math.abs((Y?.total||0)-100)>1e-6,onClick:ce,children:"Finalize"})}),ae&&t.jsx("div",{className:"text-green-700 text-sm",children:"Course grading has been finalized."})]})]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(N,{asChild:!0,className:`h-12 justify-center bg-gradient-to-r ${ne} text-white shadow-sm`,children:t.jsxs(l,{to:`/courses/${V}/assignments`,children:[t.jsx(S,{className:"w-5 h-5 mr-2"}),"View Assignments"]})}),t.jsx(N,{variant:"outline",asChild:!0,className:"h-12 justify-center border-slate-300",children:t.jsxs(l,{to:"/attendance",children:[t.jsx(M,{className:"w-5 h-5 mr-2"}),"View Attendance"]})})]})}),me?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(j,{className:"bg-gradient-to-br from-blue-50/80 to-blue-100/50 border border-blue-200/30 shadow-soft transition-colors duration-200 interactive",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl shadow-md",children:t.jsx($,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Enrolled Students"}),t.jsx("p",{className:"text-3xl font-bold text-blue-700",children:xe})]})]})})}),t.jsx(j,{className:"bg-gradient-to-br from-green-50/80 to-green-100/50 border border-green-200/30 shadow-soft transition-colors duration-200 interactive",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-green-600 rounded-2xl shadow-md",children:t.jsx(S,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Total Assignments"}),t.jsx("p",{className:"text-3xl font-bold text-green-700",children:he})]})]})})}),t.jsx(j,{className:"bg-gradient-to-br from-yellow-50/80 to-yellow-100/50 border border-yellow-200/30 shadow-soft transition-colors duration-200 interactive",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-2xl shadow-md",children:t.jsx(E,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Upcoming"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:ge})]})]})})}),t.jsx(j,{className:"bg-gradient-to-br from-purple-50/80 to-purple-100/50 border border-purple-200/30 shadow-soft transition-colors duration-200 interactive",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl shadow-md",children:t.jsx(O,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Completion Rate"}),t.jsxs("p",{className:"text-3xl font-bold text-purple-700",children:[he>0?Math.round((he-ge)/he*100):0,"%"]})]})]})})})]}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(j,{className:"bg-gradient-to-br from-blue-50/80 to-blue-100/50 border border-blue-200/30 shadow-soft transition-colors duration-200",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl shadow-md",children:t.jsx(O,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Overall Grade"}),t.jsx("p",{className:"text-3xl font-bold text-blue-700",children:K?`${K.overallGrade.toFixed(1)}%`:"N/A"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Weighted by assignment weights"})]})]})})}),t.jsx(j,{className:"bg-gradient-to-br from-green-50/80 to-green-100/50 border border-green-200/30 shadow-soft transition-colors duration-200",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-green-600 rounded-2xl shadow-md",children:t.jsx(I,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Graded"}),t.jsx("p",{className:"text-3xl font-bold text-green-700",children:K?K.gradedCount:0}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["of ",he," assignments"]})]})]})})}),t.jsx(j,{className:"bg-gradient-to-br from-yellow-50/80 to-yellow-100/50 border border-yellow-200/30 shadow-soft transition-colors duration-200",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-2xl shadow-md",children:t.jsx(E,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Pending Review"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:K?K.pendingCount:0}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"awaiting grade"})]})]})})}),t.jsx(j,{className:"bg-gradient-to-br from-purple-50/80 to-purple-100/50 border border-purple-200/30 shadow-soft transition-colors duration-200",children:t.jsx(b,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl shadow-md",children:t.jsx(G,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Submitted"}),t.jsx("p",{className:"text-3xl font-bold text-purple-700",children:K?K.submittedCount:0}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[he>0?Math.round((K?.submittedCount||0)/he*100):0,"% complete"]})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(j,{className:"lg:col-span-2 bg-white/95 border border-slate-200/60 shadow-soft transition-colors duration-200",children:[t.jsx(f,{className:"pb-6",children:t.jsxs(p,{className:"flex items-center gap-3 text-xl",children:[t.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-100 to-teal-100 rounded-xl",children:t.jsx(k,{className:"w-6 h-6 text-blue-600"})}),t.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Course Information"})]})}),t.jsxs(b,{className:"space-y-6",children:[t.jsxs("div",{className:"p-6 bg-gradient-to-br from-slate-50/80 to-blue-50/20 rounded-2xl border border-slate-200/30",children:[t.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Description"}),t.jsx("p",{className:"text-slate-700 leading-relaxed",children:B.description})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50/80 to-teal-50/40 rounded-2xl border border-blue-200/30",children:[t.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Course Details"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 font-medium",children:"Code:"}),t.jsx(w,{className:"bg-blue-100 text-blue-700",children:B.code})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 font-medium",children:"Credits:"}),t.jsx(w,{className:"bg-slate-100 text-slate-700",children:B.credits})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 font-medium",children:"Semester:"}),t.jsx(w,{className:"bg-green-100 text-green-700",children:B.semester})]})]})]}),t.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50/80 to-indigo-50/40 rounded-2xl border border-purple-200/30",children:[t.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Instructor"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 font-medium",children:"Name:"}),t.jsx("span",{className:"font-semibold text-slate-800",children:R?.name||"TBD"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 font-medium",children:"Email:"}),t.jsx("span",{className:"font-medium text-slate-700",children:R?.email||"TBD"})]}),R?.department&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 font-medium",children:"Department:"}),t.jsx("span",{className:"font-medium text-slate-700",children:R.department})]})]})]})]})]})]}),t.jsxs(j,{className:"bg-white/95 border border-slate-200/60 shadow-soft transition-colors duration-200",children:[t.jsx(f,{className:"pb-6",children:t.jsxs(p,{className:"flex items-center gap-3 text-xl",children:[t.jsx("div",{className:"p-2 bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl",children:t.jsx(T,{className:"w-6 h-6 text-green-600"})}),t.jsx("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Quick Actions"})]})}),t.jsx(b,{className:"space-y-4",children:me?t.jsxs(t.Fragment,{children:[t.jsx(N,{asChild:!0,className:`w-full justify-start h-12 bg-gradient-to-r ${ne} text-white shadow-sm transition-colors duration-200`,children:t.jsxs(l,{to:`/courses/${V}/assignments/teacher`,children:[t.jsx(S,{className:"w-5 h-5 mr-3"}),"Manage Assignments"]})}),t.jsx(N,{variant:"outline",asChild:!0,className:"w-full justify-start h-12 border-slate-300 hover:bg-slate-50 shadow-sm transition-colors duration-200",children:t.jsxs(l,{to:`/courses/${V}/gradebook`,children:[t.jsx(D,{className:"w-5 h-5 mr-3"}),"View Gradebook"]})}),t.jsx(N,{asChild:!0,className:`w-full justify-start h-12 bg-gradient-to-r ${ne} text-white shadow-sm transition-colors duration-200`,children:t.jsxs(l,{to:`/courses/${V}/clinical-assessments`,children:[t.jsx(z,{className:"w-5 h-5 mr-3"}),"Clinical Assessments"]})}),t.jsx(N,{variant:"outline",asChild:!0,className:"w-full justify-start h-12 border-slate-300 hover:bg-slate-50 shadow-sm transition-colors duration-200",children:t.jsxs(l,{to:"/attendance",children:[t.jsx(M,{className:"w-5 h-5 mr-3"}),"Track Attendance"]})})]}):t.jsxs(t.Fragment,{children:[t.jsx(N,{asChild:!0,className:`w-full justify-start h-12 bg-gradient-to-r ${ne} text-white shadow-sm transition-colors duration-200`,children:t.jsxs(l,{to:`/courses/${V}/assignments`,children:[t.jsx(S,{className:"w-5 h-5 mr-3"}),"View Assignments"]})}),t.jsx(N,{variant:"outline",asChild:!0,className:"w-full justify-start h-12 border-slate-300 hover:bg-slate-50 shadow-sm transition-colors duration-200",children:t.jsxs(l,{to:"/attendance",children:[t.jsx(M,{className:"w-5 h-5 mr-3"}),"View Attendance"]})})]})})]})]}),Q.length>0&&t.jsxs(j,{className:"bg-white/95 border border-slate-200/60 shadow-soft transition-colors duration-200",children:[t.jsx(f,{className:"pb-6",children:t.jsxs(p,{className:"flex items-center gap-3 text-xl",children:[t.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-100 to-amber-100 rounded-xl",children:t.jsx(S,{className:"w-6 h-6 text-orange-600"})}),t.jsx("span",{className:"bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Recent Assignments"})]})}),t.jsxs(b,{children:[t.jsx("div",{className:"space-y-4",children:Q.slice(0,5).map(e=>t.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-br from-slate-50/80 to-blue-50/20 rounded-2xl border border-slate-200/30 transition-colors duration-200 interactive",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-100 to-teal-100 rounded-2xl flex items-center justify-center shadow-sm",children:t.jsx(S,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-slate-800 text-base",children:e.title}),t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[t.jsx("span",{className:"font-medium",children:e.type})," • Due: ",new Date(e.dueAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(w,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-200 font-semibold",children:[e.weight,"%"]}),e.dueAt<Date.now()&&t.jsx(w,{className:"bg-red-100 text-red-700 border-red-200 font-semibold",children:"Overdue"})]})]},e.id))}),Q.length>5&&t.jsx("div",{className:"mt-8 text-center",children:t.jsx(N,{variant:"outline",asChild:!0,className:"h-12 px-8 border-slate-300 hover:bg-slate-50 shadow-sm transition-colors duration-200",children:t.jsx(l,{to:`/courses/${V}/assignments/${me?"teacher":""}`,children:"View All Assignments"})})})]})]})]})}export{V as default};
